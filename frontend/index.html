<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice of the Customer</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- Mixpanel Analytics -->
    <script type="text/javascript">
      (function(e,c){if(!c.__SV){var l,h;window.mixpanel=c;c._i=[];c.init=function(q,r,f){function t(d,a){var g=a.split(".");2==g.length&&(d=d[g[0]],a=g[1]);d[a]=function(){d.push([a].concat(Array.prototype.slice.call(arguments,0)))}}var b=c;"undefined"!==typeof f?b=c[f]=[]:f="mixpanel";b.people=b.people||[];b.toString=function(d){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);d||(a+=" (stub)");return a};b.people.toString=function(){return b.toString(1)+".people (stub)"};l="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders start_session_recording stop_session_recording people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");
      for(h=0;h<l.length;h++)t(b,l[h]);var n="set set_once union unset remove delete".split(" ");b.get_group=function(){function d(p){a[p]=function(){b.push([g,[p].concat(Array.prototype.slice.call(arguments,0))])}}for(var a={},g=["get_group"].concat(Array.prototype.slice.call(arguments,0)),m=0;m<n.length;m++)d(n[m]);return a};c._i.push([q,r,f])};c.__SV=1.2;var k=e.createElement("script");k.type="text/javascript";k.async=!0;k.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===
      e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=e.getElementsByTagName("script")[0];e.parentNode.insertBefore(k,e)}})(document,window.mixpanel||[])
      mixpanel.init('a4ccb21999d0aa6d979bd9661a7501d2', {
        autocapture: true,
        record_sessions_percent: 100,
      })
    </script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Voice of the Customer</h1>
            <p class="subtitle">Extract evidence-based insights from real online communities</p>
            <div class="header-actions">
                <select id="recentSearches" class="recent-searches-dropdown" style="display: none;" onchange="loadRecentSearch(this.value)">
                    <option value="">Recent Searches</option>
                </select>
                <select id="savedContent" class="recent-searches-dropdown" style="display: none;" onchange="loadSavedContent(this.value)">
                    <option value="">Saved Content</option>
                </select>
            </div>
        </header>

        <main>
            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <button class="tab-btn" onclick="switchTab('url')">
                    Analyze URL
                </button>
                <button class="tab-btn active" onclick="switchTab('topic')">
                    Topic Search
                </button>
                <button class="tab-btn" onclick="switchTab('subreddit')">
                    Community Pulse
                </button>
                <a href="content-radar/index.html" class="tab-btn tab-btn-new" style="text-decoration: none; display: inline-flex; align-items: center; gap: 6px;">
                    <span>üì°</span> Content Radar
                    <span style="font-size: 10px; background: #10b981; color: white; padding: 2px 6px; border-radius: 10px;">NEW</span>
                </a>
            </div>

            <!-- Tab 1: URL Analysis -->
            <div id="urlTab" class="tab-content" style="display: none;">
                <div class="input-section">
                    <h2>Analyze Single Reddit Post</h2>
                    <div class="input-group">
                        <input
                            type="text"
                            id="redditUrl"
                            placeholder="Paste Reddit post URL here..."
                            class="url-input"
                        />
                    </div>
                    <p class="hint">Example: https://www.reddit.com/r/AskReddit/comments/...</p>

                    <!-- Research Goal Section -->
                    <div class="research-goal-section">
                        <h3 class="section-label">Research Goal</h3>

                        <div class="persona-outcome-container">
                            <!-- Persona Selection -->
                            <div class="persona-selection">
                                <label class="selection-label">SELECT PERSONA</label>
                                <div class="persona-cards" id="urlPersonaCards">
                                    <div class="persona-card" data-persona="product_manager" onclick="selectPersona('url', 'product_manager')">
                                        <span class="persona-icon">PM</span>
                                        <div class="persona-info">
                                            <span class="persona-name">Product Manager</span>
                                            <span class="persona-desc">Find market gaps & validate features</span>
                                        </div>
                                    </div>
                                    <div class="persona-card" data-persona="marketer" onclick="selectPersona('url', 'marketer')">
                                        <span class="persona-icon">MK</span>
                                        <div class="persona-info">
                                            <span class="persona-name">Marketer / Copywriter</span>
                                            <span class="persona-desc">Find hooks & customer language</span>
                                        </div>
                                    </div>
                                    <div class="persona-card" data-persona="content_creator" onclick="selectPersona('url', 'content_creator')">
                                        <span class="persona-icon">CC</span>
                                        <div class="persona-info">
                                            <span class="persona-name">Content Creator</span>
                                            <span class="persona-desc">Find video ideas & trending topics</span>
                                        </div>
                                    </div>
                                    <div class="persona-card" data-persona="custom" onclick="selectPersona('url', 'custom')">
                                        <span class="persona-icon">+</span>
                                        <div class="persona-info">
                                            <span class="persona-name">Custom / Other</span>
                                            <span class="persona-desc">Define your own research parameters</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Outcome Selection -->
                            <div class="outcome-selection" id="urlOutcomeSelection" style="display: none;">
                                <label class="selection-label" id="urlOutcomeLabel">SELECT SPECIFIC OUTCOME</label>
                                <div class="outcome-options" id="urlOutcomeOptions">
                                    <!-- Options populated by JS based on persona -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Hidden fields to store role/goal values -->
                    <input type="hidden" id="urlUserRole" />
                    <input type="hidden" id="urlUserGoal" />

                    <button id="analyzeBtn" class="analyze-btn start-research-btn" onclick="handleAnalyzeUrl()">
                        <span class="btn-text">Start Research ‚Üí</span>
                        <span class="btn-loader" style="display: none;">
                            <span class="spinner"></span>
                        </span>
                    </button>
                </div>
            </div>

            <!-- Tab 2: Topic Search -->
            <div id="topicTab" class="tab-content active">
                <!-- Collapsible Input Section -->
                <div id="topicInputSection" class="collapsible-section">
                    <!-- Collapsed Summary (shown when collapsed) -->
                    <div class="collapsed-summary" onclick="toggleSection('topicInputSection')">
                        <div class="collapsed-summary-content">
                            <div class="collapsed-summary-icon">Q</div>
                            <div class="collapsed-summary-text">
                                <div class="collapsed-summary-title" id="topicInputCollapsedTitle">Search Parameters</div>
                                <div class="collapsed-summary-subtitle" id="topicInputCollapsedSubtitle">Click to edit search</div>
                            </div>
                        </div>
                        <div class="collapsed-summary-expand">
                            Edit <span class="expand-arrow">‚ñº</span>
                        </div>
                    </div>

                    <!-- Collapsible Content -->
                    <div class="collapsible-content">
                        <div class="input-section">
                            <h2>Search Reddit by Topic</h2>

                            <!-- Research Question (REQUIRED) -->
                            <div class="research-context-section">
                                <label for="researchQuestion" class="context-label">
                                    What are you researching? <span class="required-tag">*</span>
                                </label>
                                <textarea
                                    id="researchQuestion"
                                    placeholder="e.g., budget weight training shoes, notion vs evernote, best crm for startups"
                                    class="research-input"
                                    rows="2"
                                    required
                                ></textarea>
                                <p class="hint">Use keywords for best results (e.g., "weight training shoes budget" not full sentences)</p>
                            </div>

                            <!-- Research Goal Section (PROMINENT - right after research input) -->
                            <div class="research-goal-section">
                                <h3 class="section-label">Research Goal</h3>

                                <div class="persona-outcome-container">
                                    <!-- Persona Selection -->
                                    <div class="persona-selection">
                                        <label class="selection-label">SELECT PERSONA</label>
                                        <div class="persona-cards" id="topicPersonaCards">
                                            <div class="persona-card" data-persona="product_manager" onclick="selectPersona('topic', 'product_manager')">
                                                <span class="persona-icon">PM</span>
                                                <div class="persona-info">
                                                    <span class="persona-name">Product Manager</span>
                                                    <span class="persona-desc">Find market gaps & validate features</span>
                                                </div>
                                            </div>
                                            <div class="persona-card" data-persona="marketer" onclick="selectPersona('topic', 'marketer')">
                                                <span class="persona-icon">MK</span>
                                                <div class="persona-info">
                                                    <span class="persona-name">Marketer / Copywriter</span>
                                                    <span class="persona-desc">Find hooks & customer language</span>
                                                </div>
                                            </div>
                                            <div class="persona-card" data-persona="content_creator" onclick="selectPersona('topic', 'content_creator')">
                                                <span class="persona-icon">CC</span>
                                                <div class="persona-info">
                                                    <span class="persona-name">Content Creator</span>
                                                    <span class="persona-desc">Find video ideas & trending topics</span>
                                                </div>
                                            </div>
                                            <div class="persona-card" data-persona="custom" onclick="selectPersona('topic', 'custom')">
                                                <span class="persona-icon">+</span>
                                                <div class="persona-info">
                                                    <span class="persona-name">Custom / Other</span>
                                                    <span class="persona-desc">Define your own research parameters</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Outcome Selection -->
                                    <div class="outcome-selection" id="topicOutcomeSelection" style="display: none;">
                                        <label class="selection-label" id="topicOutcomeLabel">SELECT SPECIFIC OUTCOME</label>
                                        <div class="outcome-options" id="topicOutcomeOptions">
                                            <!-- Options populated by JS based on persona -->
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Hidden fields to store role/goal values -->
                            <input type="hidden" id="userRole" />
                            <input type="hidden" id="userGoal" />

                            <!-- Advanced Options (subtle, at the bottom) -->
                            <div class="advanced-options">
                                <div class="advanced-options-row">
                                    <div class="option-group">
                                        <label>Search in</label>
                                        <select id="searchMethodDropdown" class="subtle-select" onchange="toggleSearchMethodDropdown()">
                                            <option value="reddit" selected>All of Reddit</option>
                                            <option value="subreddits">Specific subreddits</option>
                                            <option value="urls">Specific URLs</option>
                                        </select>
                                    </div>
                                    <div class="option-group">
                                        <label>Time</label>
                                        <select id="topicTimeRange" class="subtle-select">
                                            <option value="day">24 hours</option>
                                            <option value="week">Week</option>
                                            <option value="month">Month</option>
                                            <option value="year" selected>Year</option>
                                            <option value="all">All time</option>
                                        </select>
                                    </div>
                                    <div class="option-group">
                                        <label>Posts to Analyze</label>
                                        <select id="topicLimit" class="subtle-select">
                                            <option value="10">10</option>
                                            <option value="15">15</option>
                                            <option value="25" selected>25</option>
                                            <option value="50">50</option>
                                        </select>
                                    </div>
                                </div>

                                <!-- Subreddit Input (shown when subreddits selected) -->
                                <div id="subredditMethodInput" class="conditional-input" style="display: none;">
                                    <input
                                        type="text"
                                        id="topicSubreddits"
                                        placeholder="Enter subreddits (comma-separated): AskReddit, productivity, Notion"
                                        class="subtle-text-input"
                                    />
                                </div>

                                <!-- URL Input (shown when URLs selected) -->
                                <div id="urlMethodInput" class="conditional-input" style="display: none;">
                                    <textarea
                                        id="topicUrls"
                                        placeholder="Paste Reddit post URLs (one per line)..."
                                        class="subtle-textarea"
                                        rows="3"
                                    ></textarea>
                                </div>
                            </div>

                            <button class="analyze-btn start-research-btn" onclick="handleSearchByTopic()">
                                Start Research ‚Üí
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Collapsible Results Section (hidden until search) -->
                <div id="topicResultsSection" class="collapsible-section" style="display: none;">
                    <!-- Collapsed Summary (shown when collapsed) -->
                    <div class="collapsed-summary" onclick="toggleSection('topicResultsSection')">
                        <div class="collapsed-summary-content">
                            <div class="collapsed-summary-icon">R</div>
                            <div class="collapsed-summary-text">
                                <div class="collapsed-summary-title" id="topicResultsCollapsedTitle">Search Results</div>
                                <div class="collapsed-summary-subtitle" id="topicResultsCollapsedSubtitle">Click to view/edit selection</div>
                            </div>
                        </div>
                        <div class="collapsed-summary-expand">
                            Edit <span class="expand-arrow">‚ñº</span>
                        </div>
                    </div>

                    <!-- Collapsible Content -->
                    <div class="collapsible-content">
                        <!-- Topic Search Results -->
                        <div id="topicResults" style="display: none;">
                            <div class="results-header">
                                <h3 id="topicResultsTitle">Search Results</h3>
                                <div id="topicResultsSummary"></div>
                            </div>
                            <div id="topicSelectedActions" style="display: none;">
                                <div class="selected-summary">
                                    <span id="topicSelectedCount">0 posts selected</span>
                                    <button class="analyze-btn" onclick="analyzeTopicSelectedPosts()">
                                        Analyze Selected ‚Üí
                                    </button>
                                </div>
                            </div>
                            <div id="topicPostsList"></div>
                            <div id="topicSelectedActionsBottom" style="display: none;">
                                <div class="selected-summary">
                                    <span id="topicSelectedCountBottom">0 posts selected</span>
                                    <button class="analyze-btn" onclick="analyzeTopicSelectedPosts()">
                                        Analyze Selected ‚Üí
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 3: Community Pulse -->
            <div id="subredditTab" class="tab-content" style="display: none;">
                <div class="input-section">
                    <h2>Community Pulse</h2>
                    <p class="tab-subtitle">Explore what a subreddit community cares about - themes, trends, and language patterns</p>

                    <div class="input-group">
                        <label for="subredditName" class="context-label">
                            Which community?
                        </label>
                        <input
                            type="text"
                            id="subredditName"
                            placeholder="e.g., menopause, weightgain, productivity"
                            class="research-input"
                            style="font-size: 1rem;"
                            oninput="handleSubredditInput()"
                        />
                        <p class="hint">Enter subreddit name without r/</p>
                    </div>

                    <!-- Activity Indicator (shown after subreddit entered) -->
                    <div id="subredditActivityIndicator" class="activity-indicator" style="display: none;">
                        <div class="activity-content">
                            <span class="activity-icon">üìä</span>
                            <div class="activity-details">
                                <span id="subredditActivityLevel" class="activity-level">Checking activity...</span>
                                <span id="subredditActivityStats" class="activity-stats"></span>
                            </div>
                        </div>
                        <!-- Next step prompt -->
                        <div id="activityNextStep" class="activity-next-step" style="display: none;">
                            <span class="next-step-arrow">‚Üì</span>
                            <span class="next-step-text">Great! Now select your perspective below and explore</span>
                        </div>
                    </div>

                    <!-- Persona Selection (simplified - no outcomes) -->
                    <div class="research-goal-section" id="pulsePersonaSection">
                        <h3 class="section-label">I'm exploring as a...</h3>

                        <div class="persona-outcome-container">
                            <div class="persona-selection">
                                <div class="persona-cards" id="subredditPersonaCards">
                                    <div class="persona-card" data-persona="product_manager" onclick="selectPersona('subreddit', 'product_manager')">
                                        <span class="persona-icon">PM</span>
                                        <div class="persona-info">
                                            <span class="persona-name">Product Manager</span>
                                            <span class="persona-desc">Find pain points & opportunities</span>
                                        </div>
                                    </div>
                                    <div class="persona-card" data-persona="marketer" onclick="selectPersona('subreddit', 'marketer')">
                                        <span class="persona-icon">MK</span>
                                        <div class="persona-info">
                                            <span class="persona-name">Marketer / Copywriter</span>
                                            <span class="persona-desc">Understand community voice</span>
                                        </div>
                                    </div>
                                    <div class="persona-card" data-persona="content_creator" onclick="selectPersona('subreddit', 'content_creator')">
                                        <span class="persona-icon">CC</span>
                                        <div class="persona-info">
                                            <span class="persona-name">Content Creator</span>
                                            <span class="persona-desc">Find trending topics & ideas</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Focus Analysis On (Custom Focus Input) -->
                    <div class="focus-analysis-section" id="focusAnalysisSection">
                        <h3 class="section-label">Analysis Angle <span class="optional-tag">(optional)</span></h3>
                        <div class="focus-input-container">
                            <input
                                type="text"
                                id="customAnalysisFocus"
                                placeholder="e.g., how people discuss weight loss, beginner struggles, product mentions"
                                class="focus-input"
                            />
                            <p class="hint">What lens should we analyze the community through? Leave empty for general exploration.</p>
                            <p class="hint hint-tip">Looking for specific content like recipes or recommendations? Use <a href="#" onclick="switchTab('topicTab'); return false;" class="hint-link">Search by Topic</a> instead.</p>
                        </div>
                    </div>

                    <!-- Hidden fields to store role value -->
                    <input type="hidden" id="subredditUserRole" />
                    <input type="hidden" id="subredditUserGoal" value="community_exploration" />

                    <!-- Analysis Depth Selection -->
                    <div class="analysis-depth-section">
                        <h3 class="section-label">Analysis Depth</h3>
                        <div class="depth-options">
                            <label class="depth-option">
                                <input type="radio" name="analysisDepth" value="quick" />
                                <div class="depth-card">
                                    <span class="depth-icon">‚ö°</span>
                                    <div class="depth-info">
                                        <span class="depth-name">Quick Snapshot</span>
                                        <span class="depth-desc">Recent 30 days ‚Ä¢ Fast overview</span>
                                    </div>
                                </div>
                            </label>
                            <label class="depth-option">
                                <input type="radio" name="analysisDepth" value="full" checked />
                                <div class="depth-card selected">
                                    <span class="depth-icon">üìà</span>
                                    <div class="depth-info">
                                        <span class="depth-name">Full Trend Analysis</span>
                                        <span class="depth-desc">1 year data ‚Ä¢ Emerging vs declining trends</span>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Advanced Options -->
                    <div class="advanced-options">
                        <div class="advanced-options-row">
                            <div class="option-group">
                                <label>Time Period</label>
                                <select id="pulseTimeRange" class="subtle-select">
                                    <option value="month">1 Month</option>
                                    <option value="year" selected>1 Year</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <button class="analyze-btn start-research-btn" onclick="handleCommunityPulse()" id="communityPulseBtn">
                        Explore Community ‚Üí
                    </button>
                </div>

                <!-- Community Pulse Results -->
                <div id="communityPulseResults" style="display: none;">
                    <!-- Results populated by JS -->
                </div>
            </div>

            <!-- Status Section -->
            <section id="statusSection" class="status-section" style="display: none;">
                <div class="status-card">
                    <div class="status-icon">‚è≥</div>
                    <div class="status-text" id="statusText">Initializing...</div>
                    <div class="status-progress">
                        <div class="progress-bar" id="progressBar" style="width: 0%"></div>
                    </div>
                    <div class="status-details" id="statusDetails"></div>
                    <div class="status-tip" id="statusTip"></div>
                </div>
            </section>

            <!-- Results Section -->
            <section id="resultsSection" class="results-section" style="display: none;">
                <!-- Extracted Data -->
                <div id="extractedDataCard" class="result-card" style="display: none;">
                    <div class="card-header">
                        <h2>Extracted Comments</h2>
                        <div style="display: flex; gap: 10px;">
                            <button class="export-btn" onclick="exportToPDF()" style="background: #ed8936;">Export PDF</button>
                            <button class="export-btn" onclick="copyToClipboard()" style="background: #9f7aea;">Copy for AI</button>
                            <button class="export-btn" onclick="copyAsText()" style="background: #48bb78;">Copy Text</button>
                            <button class="export-btn" onclick="exportData()">Export JSON</button>
                        </div>
                    </div>
                    <div id="extractedDataContent"></div>
                </div>

                <!-- AI Insights -->
                <div id="insightsCard" class="result-card" style="display: none;">
                    <div class="card-header">
                        <h2>AI-Powered Insights</h2>
                        <button class="export-btn" onclick="exportInsightsPDF()">Export PDF</button>
                    </div>
                    <div id="insightsContent"></div>
                </div>

                <!-- Multi-Post Results -->
                <div id="multiPostResults" style="display: none;"></div>
            </section>

            <!-- Error Section -->
            <section id="errorSection" class="error-section" style="display: none;">
                <div class="error-card">
                    <div class="error-icon">‚ö†Ô∏è</div>
                    <div class="error-title">Analysis Failed</div>
                    <div class="error-message" id="errorMessage"></div>
                    <button class="retry-btn" onclick="location.reload()">Try Again</button>
                </div>
            </section>
        </main>

    </div>

    <!-- Re-analyze Modal -->
    <div id="reanalyzeModal" class="reanalyze-modal" onclick="closeReanalyzeModal(event)">
        <div class="reanalyze-modal-content" onclick="event.stopPropagation()">
            <div class="reanalyze-modal-header">
                <h3 class="reanalyze-modal-title">Re-analyze with Different Goal</h3>
                <button class="reanalyze-modal-close" onclick="closeReanalyzeModal()">&times;</button>
            </div>
            <div class="reanalyze-modal-body">
                <p style="color: var(--text-secondary); margin-bottom: 20px; font-size: 0.9rem;">
                    Use the same Reddit data but get insights from a different perspective.
                </p>

                <div class="reanalyze-modal-section">
                    <div class="reanalyze-modal-section-title">Select Persona</div>
                    <div class="persona-cards" id="reanalyzePersonaCards">
                        <div class="persona-card" data-persona="product_manager" onclick="selectReanalyzePersona('product_manager')">
                            <span class="persona-icon">PM</span>
                            <div class="persona-info">
                                <span class="persona-name">Product Manager</span>
                                <span class="persona-desc">Find market gaps & validate features</span>
                            </div>
                        </div>
                        <div class="persona-card" data-persona="marketer" onclick="selectReanalyzePersona('marketer')">
                            <span class="persona-icon">MK</span>
                            <div class="persona-info">
                                <span class="persona-name">Marketer / Copywriter</span>
                                <span class="persona-desc">Find hooks & customer language</span>
                            </div>
                        </div>
                        <div class="persona-card" data-persona="content_creator" onclick="selectReanalyzePersona('content_creator')">
                            <span class="persona-icon">CC</span>
                            <div class="persona-info">
                                <span class="persona-name">Content Creator</span>
                                <span class="persona-desc">Find video ideas & trending topics</span>
                            </div>
                        </div>
                        <div class="persona-card" data-persona="custom" onclick="selectReanalyzePersona('custom')">
                            <span class="persona-icon">+</span>
                            <div class="persona-info">
                                <span class="persona-name">Custom / Other</span>
                                <span class="persona-desc">Define your own research parameters</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="reanalyze-modal-section" id="reanalyzeOutcomeSection" style="display: none;">
                    <div class="reanalyze-modal-section-title" id="reanalyzeOutcomeLabel">Select Outcome</div>
                    <div class="outcome-options" id="reanalyzeOutcomeOptions">
                        <!-- Options populated by JS -->
                    </div>
                </div>
            </div>
            <div class="reanalyze-modal-footer">
                <button class="reanalyze-modal-btn secondary" onclick="closeReanalyzeModal()">Cancel</button>
                <button class="reanalyze-modal-btn primary" id="reanalyzeSubmitBtn" onclick="submitReanalyze()" disabled>
                    Re-analyze
                </button>
            </div>
        </div>
    </div>

    <!-- Generate Content Modal -->
    <div id="generateModal" class="generate-modal" onclick="closeGenerateModal(event)">
        <div class="generate-modal-content" onclick="event.stopPropagation()">
            <div class="generate-modal-header">
                <h3 id="generateModalTitle" class="generate-modal-title">Generate Content</h3>
                <button class="generate-modal-close" onclick="closeGenerateModal()">&times;</button>
            </div>
            <div class="generate-modal-body">
                <p id="generateModalDescription" class="generate-modal-desc"></p>

                <div class="generate-form-group">
                    <label for="generateFocusInput">Focus (optional)</label>
                    <input type="text" id="generateFocusInput" placeholder="e.g., weight loss transformation stories" class="generate-input">
                    <span class="generate-input-hint">Narrow down the content focus</span>
                </div>

                <div class="generate-form-group">
                    <label>Tone</label>
                    <div class="generate-radio-group">
                        <label class="generate-radio">
                            <input type="radio" name="generateTone" value="professional">
                            <span>Professional</span>
                        </label>
                        <label class="generate-radio">
                            <input type="radio" name="generateTone" value="conversational" checked>
                            <span>Conversational</span>
                        </label>
                        <label class="generate-radio">
                            <input type="radio" name="generateTone" value="casual">
                            <span>Casual</span>
                        </label>
                    </div>
                </div>

                <div class="generate-form-group">
                    <label>Length</label>
                    <div class="generate-radio-group">
                        <label class="generate-radio">
                            <input type="radio" name="generateLength" value="short">
                            <span>Short</span>
                        </label>
                        <label class="generate-radio">
                            <input type="radio" name="generateLength" value="medium" checked>
                            <span>Medium</span>
                        </label>
                        <label class="generate-radio">
                            <input type="radio" name="generateLength" value="long">
                            <span>Long</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="generate-modal-footer">
                <button class="generate-modal-btn secondary" onclick="closeGenerateModal()">Cancel</button>
                <button class="generate-modal-btn primary" onclick="submitGenerate()">
                    Generate
                </button>
            </div>
        </div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/analytics.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
    <!-- Vercel Web Analytics -->
    <script>
      window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
</body>
</html>
